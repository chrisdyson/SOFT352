<!DOCTYPE html>
<html>
<title>Workplace Portal - Login</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="keywords" content="">
<meta name="description" content="">

<link rel="stylesheet" href="w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>

<script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-54716449-1', 'auto');
    ga('send', 'pageview');

    $(document).ready(function() {
        var loginChecker = location.search.split('error=')[1];
        if (loginChecker == "true") {
            $("#txtLoginUsername").addClass("w3-input-red");
            $("#txtLoginPassword").addClass("w3-input-red");
        } else {
            $("#txtLoginUsername").addClass("w3-input");
            $("#txtLoginPassword").addClass("w3-input");
        }
    });

    if (localStorage.priviledge == 0) {
        window.location.replace("/home");
    } else if (localStorage.priviledge == 1) {
        window.location.replace("/manager");
    } else {
        //window.location.replace("/");
    }

    function checkFormInput() {
        if (/\d|[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/.test($('#txtLoginUsername').val())) {
            $("#txtLoginUsername").addClass("w3-input-red");
            return false;
        } else {
            return true;
        }
    }

</script>

<body>

    <!-- Navbar (sit on top) -->
    <div class="w3-top" style="z-index: 10">
        <div class="w3-bar w3-white w3-card-2" id="myNavbar">
            <!-- Left-sided name -->
            <div class="w3-left">
                <a class="w3-bar-item w3-button"><i class="fa fa-home"></i> Workplace Portal</a>
            </div>
        </div>
    </div>

    <!-- Login section -->
    <div class="bgimg-1 w3-container w3-dark-grey w3-center" style="padding:128px 16px" id="login">
        <h3 class="w3-center">Login</h3>

        <form name="loginForm" onsubmit="return checkFormInput()" action="/login" method="post">
            <div id="loginPageDiv" class="w3-container w3-center w3-white w3-round-large" style="padding:50px;margin: 0 auto;position: relative">
                <b>Username <span class="w3-text-red">*</span></b> <input id="txtLoginUsername" class="w3-center" type="text" name="username" autocomplete="off" required><br><br>
                <b>Password <span class="w3-text-red">*</span></b> <input id="txtLoginPassword" class="w3-center" type="password" name="password" autocomplete="off" required><br><br>
                <input id="loginBtn" class="w3-center w3-button w3-ripple w3-light-grey" type="submit" value="Login">
            </div>
        </form>

    </div>
</body>

</html>
