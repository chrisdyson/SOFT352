<!doctype html>
<html>

<head>
    <title>chat</title>
    <link rel="stylesheet" href="w3.css">
    <style>
        #messages {
            list-style-type: none;
            margin: auto;
            padding: 0;
            width: calc(100% - 5px);
        }

        #messages p {
            padding: 5px 10px;
            background: #33bbff;
            color: #f7f7f7;
            margin: 4px;
            border-radius: 5px;
            width: 95%;
            float: left;
        }

        #messages p:nth-child(odd) {
            background: #f8f8f8;
            color: #0d0d0d;
            float: right;
        }

    </style>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>
    <script>
        $(function() {
            var socket = io();
            $('form').submit(function() {
                var message = localStorage.username + ": " + $('#m').val();
                socket.emit('chat message', message);
                $('#m').val('');
                return false;
            });
            socket.on('chat message', function(msg) {
                $('#messages').prepend($('<p>').text(msg));
            });
        });

    </script>
</head>

<body>
    <form action="" style="width:450px;margin:auto" class="w3-center">
        <input class="w3-input-white" id="m" autocomplete="off" placeholder="Type a message..." />
        <button class="w3-button w3-ripple w3-light-grey">Send</button>
    </form>
    <div id="messages"></div>
</body>

</html>
